<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Shopifyé–‹ç™ºã‚¹ãƒˆã‚¢ä½œæˆã‚¬ã‚¤ãƒ‰ & ç®¡ç†ãƒ„ãƒ¼ãƒ«</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 80px 20px 40px;
    }

    .nav {
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      padding: 15px 0;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 1000;
    }

    .nav-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .nav-brand {
      font-size: 20px;
      font-weight: bold;
      color: white;
      text-decoration: none;
    }

    .nav-links {
      display: flex;
      gap: 10px;
    }

    .nav-link {
      color: white;
      text-decoration: none;
      padding: 8px 16px;
      border-radius: 6px;
      transition: background 0.3s;
    }

    .nav-link:hover {
      background: rgba(255, 255, 255, 0.15);
    }

    .nav-link.active {
      background: rgba(255, 255, 255, 0.25);
      font-weight: 600;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
    }

    .header {
      text-align: center;
      color: white;
      margin-bottom: 40px;
    }

    .header h1 {
      font-size: 36px;
      margin-bottom: 10px;
    }

    .header p {
      font-size: 16px;
      opacity: 0.9;
    }

    .tabs {
      display: flex;
      gap: 10px;
      margin-bottom: 30px;
      justify-content: center;
    }

    .tab {
      padding: 12px 24px;
      background: rgba(255, 255, 255, 0.2);
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
      font-weight: 600;
      transition: all 0.3s;
    }

    .tab:hover {
      background: rgba(255, 255, 255, 0.3);
    }

    .tab.active {
      background: white;
      color: #667eea;
    }

    .tab-content {
      display: none;
    }

    .tab-content.active {
      display: block;
    }

    .card {
      background: white;
      border-radius: 16px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      padding: 40px;
      margin-bottom: 20px;
    }

    h2 {
      color: #333;
      margin-bottom: 20px;
      font-size: 24px;
    }

    h3 {
      color: #555;
      margin-top: 30px;
      margin-bottom: 15px;
      font-size: 20px;
    }

    .guide-section {
      margin-bottom: 30px;
    }

    .step {
      background: #f8f9fa;
      border-left: 4px solid #667eea;
      padding: 20px;
      margin-bottom: 20px;
      border-radius: 8px;
    }

    .step-number {
      display: inline-block;
      width: 30px;
      height: 30px;
      background: #667eea;
      color: white;
      border-radius: 50%;
      text-align: center;
      line-height: 30px;
      font-weight: bold;
      margin-right: 10px;
    }

    .step h4 {
      display: inline;
      color: #333;
      font-size: 18px;
    }

    .step p {
      margin-top: 10px;
      color: #666;
      line-height: 1.6;
    }

    .step ul {
      margin-top: 10px;
      margin-left: 40px;
      color: #666;
      line-height: 1.8;
    }

    .button-primary {
      display: inline-block;
      padding: 12px 24px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      text-decoration: none;
      transition: transform 0.2s, box-shadow 0.2s;
    }

    .button-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
    }

    .form-group {
      margin-bottom: 24px;
    }

    label {
      display: block;
      margin-bottom: 8px;
      color: #333;
      font-weight: 600;
      font-size: 14px;
    }

    input[type="text"],
    input[type="password"],
    input[type="url"],
    select,
    textarea {
      width: 100%;
      padding: 12px 16px;
      border: 2px solid #e0e0e0;
      border-radius: 8px;
      font-size: 14px;
      transition: border-color 0.3s;
      font-family: inherit;
    }

    input[type="text"]:focus,
    input[type="password"]:focus,
    input[type="url"]:focus,
    select:focus,
    textarea:focus {
      outline: none;
      border-color: #667eea;
    }

    textarea {
      min-height: 80px;
      resize: vertical;
    }

    .hint {
      font-size: 12px;
      color: #888;
      margin-top: 4px;
    }

    .button-group {
      display: flex;
      gap: 10px;
      margin-top: 20px;
    }

    .button-secondary {
      padding: 10px 20px;
      background: #6c757d;
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.3s;
    }

    .button-secondary:hover {
      background: #5a6268;
    }

    .store-list {
      margin-top: 30px;
    }

    .store-item {
      background: #f8f9fa;
      border: 1px solid #e0e0e0;
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 15px;
      transition: box-shadow 0.3s;
    }

    .store-item:hover {
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    .store-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
    }

    .store-name {
      font-size: 18px;
      font-weight: bold;
      color: #333;
    }

    .store-url {
      color: #667eea;
      text-decoration: none;
      font-size: 14px;
    }

    .store-url:hover {
      text-decoration: underline;
    }

    .store-meta {
      display: flex;
      gap: 15px;
      margin-top: 10px;
      flex-wrap: wrap;
    }

    .meta-item {
      font-size: 13px;
      color: #666;
    }

    .meta-label {
      font-weight: 600;
      color: #333;
    }

    .tag {
      display: inline-block;
      padding: 4px 12px;
      background: #667eea;
      color: white;
      border-radius: 12px;
      font-size: 12px;
      margin-right: 5px;
      margin-top: 5px;
    }

    .store-actions {
      display: flex;
      gap: 10px;
      margin-top: 15px;
    }

    .button-small {
      padding: 6px 12px;
      font-size: 13px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-weight: 600;
      transition: opacity 0.3s;
    }

    .button-edit {
      background: #ffc107;
      color: #333;
    }

    .button-delete {
      background: #dc3545;
      color: white;
    }

    .button-copy {
      background: #17a2b8;
      color: white;
    }

    .button-small:hover {
      opacity: 0.8;
    }

    .empty-state {
      text-align: center;
      padding: 60px 20px;
      color: #999;
    }

    .empty-state-icon {
      font-size: 64px;
      margin-bottom: 20px;
    }

    .search-bar {
      margin-bottom: 20px;
    }

    .search-bar input {
      width: 100%;
      padding: 12px 16px;
      border: 2px solid #e0e0e0;
      border-radius: 8px;
      font-size: 14px;
    }

    .alert {
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 20px;
      font-size: 14px;
    }

    .alert-success {
      background: #d4edda;
      border: 1px solid #c3e6cb;
      color: #155724;
    }

    .alert-info {
      background: #d1ecf1;
      border: 1px solid #bee5eb;
      color: #0c5460;
    }

    .alert-warning {
      background: #fff3cd;
      border: 1px solid #ffeeba;
      color: #856404;
    }

    .stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }

    .stat-card {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 20px;
      border-radius: 8px;
      text-align: center;
    }

    .stat-value {
      font-size: 32px;
      font-weight: bold;
      margin-bottom: 5px;
    }

    .stat-label {
      font-size: 14px;
      opacity: 0.9;
    }
  </style>
</head>
<body>
  <nav class="nav">
    <div class="nav-container">
      <a href="./index.html" class="nav-brand">Shopify Order Creator</a>
      <div class="nav-links">
        <a href="./index.html" class="nav-link">æ³¨æ–‡ä½œæˆ</a>
        <a href="./create-store.html" class="nav-link active">ã‚¹ãƒˆã‚¢ç®¡ç†</a>
      </div>
    </div>
  </nav>

  <div class="container">
    <div class="header">
      <h1>ğŸª Shopifyé–‹ç™ºã‚¹ãƒˆã‚¢ä½œæˆã‚¬ã‚¤ãƒ‰ & ç®¡ç†ãƒ„ãƒ¼ãƒ«</h1>
      <p>é–‹ç™ºã‚¹ãƒˆã‚¢ã®ä½œæˆã‚’ã‚µãƒãƒ¼ãƒˆã—ã€è¤‡æ•°ã®ãƒ†ã‚¹ãƒˆç”¨ã‚¹ãƒˆã‚¢ã‚’åŠ¹ç‡çš„ã«ç®¡ç†</p>
    </div>

    <div class="tabs">
      <button class="tab active" data-tab="guide">ğŸ“ ä½œæˆæ‰‹é †ã‚¬ã‚¤ãƒ‰</button>
      <button class="tab" data-tab="register">â• ã‚¹ãƒˆã‚¢ç™»éŒ²</button>
      <button class="tab" data-tab="manage">ğŸ“‹ ã‚¹ãƒˆã‚¢ç®¡ç†</button>
    </div>

    <!-- ä½œæˆæ‰‹é †ã‚¬ã‚¤ãƒ‰ã‚¿ãƒ– -->
    <div class="tab-content active" id="guide-tab">
      <div class="card">
        <h2>ğŸ“ Shopifyé–‹ç™ºã‚¹ãƒˆã‚¢ä½œæˆã‚¬ã‚¤ãƒ‰</h2>
        
        <div class="alert alert-info">
          <strong>âš ï¸ é‡è¦ï¼š</strong> Shopify Partner APIã§ã¯é–‹ç™ºã‚¹ãƒˆã‚¢ã®è‡ªå‹•ä½œæˆãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚Partner Dashboardã‹ã‚‰æ‰‹å‹•ã§ä½œæˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
        </div>

        <div class="guide-section">
          <h3>ğŸ“‹ å‰ææ¡ä»¶</h3>
          <ul>
            <li>Shopifyãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’æŒã£ã¦ã„ã‚‹ã“ã¨</li>
            <li>Partner Dashboardã«ãƒ­ã‚°ã‚¤ãƒ³ã§ãã‚‹ã“ã¨</li>
          </ul>
          <a href="https://partners.shopify.com" target="_blank" class="button-primary" style="margin-top: 15px;">
            Partner Dashboardã‚’é–‹ã â†’
          </a>
        </div>

        <div class="guide-section">
          <h3>ğŸš€ ä½œæˆæ‰‹é †</h3>
          
          <div class="step">
            <span class="step-number">1</span>
            <h4>Partner Dashboardã«ã‚¢ã‚¯ã‚»ã‚¹</h4>
            <p>
              <a href="https://partners.shopify.com" target="_blank">https://partners.shopify.com</a> ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã€ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™ã€‚
            </p>
          </div>

          <div class="step">
            <span class="step-number">2</span>
            <h4>ã€ŒStoresã€ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é¸æŠ</h4>
            <p>
              å·¦å´ã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰ã€ŒStoresã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚
            </p>
          </div>

          <div class="step">
            <span class="step-number">3</span>
            <h4>ã€ŒAdd storeã€ã‚’ã‚¯ãƒªãƒƒã‚¯</h4>
            <p>
              ç”»é¢å³ä¸Šã®ã€ŒAdd storeã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã€ã€ŒCreate development storeã€ã‚’é¸æŠã—ã¾ã™ã€‚
            </p>
          </div>

          <div class="step">
            <span class="step-number">4</span>
            <h4>ã‚¹ãƒˆã‚¢ç”¨é€”ã‚’é¸æŠ</h4>
            <p>
              ã€ŒDevelopment store useã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã€ä»¥ä¸‹ã®ã„ãšã‚Œã‹ã‚’é¸æŠï¼š
            </p>
            <ul>
              <li><strong>Create a store to test and build</strong> - ã‚¢ãƒ—ãƒªã‚„ãƒ†ãƒ¼ãƒã®ãƒ†ã‚¹ãƒˆç”¨</li>
              <li><strong>Create a store for a client</strong> - ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå‘ã‘ã®ã‚¹ãƒˆã‚¢æ§‹ç¯‰ç”¨</li>
            </ul>
            <p>ãƒ†ã‚¹ãƒˆç”¨ã®å ´åˆã¯ã€ŒCreate a store to test and buildã€ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚</p>
          </div>

          <div class="step">
            <span class="step-number">5</span>
            <h4>ã‚¹ãƒˆã‚¢åã¨è¨­å®šã‚’å…¥åŠ›</h4>
            <p>
              ä»¥ä¸‹ã®æƒ…å ±ã‚’å…¥åŠ›ã—ã¾ã™ï¼š
            </p>
            <ul>
              <li><strong>Store name</strong> - ã‚¹ãƒˆã‚¢åï¼ˆå¾Œã‹ã‚‰å¤‰æ›´ä¸å¯ï¼‰</li>
              <li><strong>Store URL</strong> - myshopify.comã®URLï¼ˆè‡ªå‹•ç”Ÿæˆï¼‰</li>
              <li><strong>Store location</strong> - ã‚¹ãƒˆã‚¢ã®æ‰€åœ¨åœ°ï¼ˆæ—¥æœ¬ã®å ´åˆã¯ã€ŒJapanã€ï¼‰</li>
              <li><strong>Purpose</strong> - ç”¨é€”ï¼ˆãƒ†ã‚¹ãƒˆã€å­¦ç¿’ç­‰ï¼‰</li>
            </ul>
          </div>

          <div class="step">
            <span class="step-number">6</span>
            <h4>ã€ŒCreate development storeã€ã‚’ã‚¯ãƒªãƒƒã‚¯</h4>
            <p>
              ã™ã¹ã¦ã®æƒ…å ±ã‚’å…¥åŠ›ã—ãŸã‚‰ã€ã€ŒCreate development storeã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ä½œæˆã—ã¾ã™ã€‚
            </p>
          </div>

          <div class="step">
            <span class="step-number">7</span>
            <h4>ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ã‚’å–å¾—</h4>
            <p>
              ä½œæˆã—ãŸã‚¹ãƒˆã‚¢ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã€Admin APIã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ã‚’å–å¾—ã—ã¾ã™ï¼š
            </p>
            <ul>
              <li>ã‚¹ãƒˆã‚¢ã®ç®¡ç†ç”»é¢ã«ãƒ­ã‚°ã‚¤ãƒ³</li>
              <li>ã€ŒSettingsã€â†’ã€ŒApps and sales channelsã€â†’ã€ŒDevelop appsã€ã‚’é¸æŠ</li>
              <li>ã€ŒCreate an appã€ã§ã‚¢ãƒ—ãƒªã‚’ä½œæˆ</li>
              <li>ã€ŒAdmin API integrationã€ã§ã‚¹ã‚³ãƒ¼ãƒ—ã‚’è¨­å®š</li>
              <li>ã€ŒInstall appã€ã§ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ã‚’å–å¾—</li>
            </ul>
          </div>

          <div class="step">
            <span class="step-number">8</span>
            <h4>ã“ã®ãƒ„ãƒ¼ãƒ«ã«ã‚¹ãƒˆã‚¢æƒ…å ±ã‚’ç™»éŒ²</h4>
            <p>
              ä½œæˆã—ãŸã‚¹ãƒˆã‚¢ã®æƒ…å ±ã‚’ã€Œã‚¹ãƒˆã‚¢ç™»éŒ²ã€ã‚¿ãƒ–ã‹ã‚‰ç™»éŒ²ã—ã¦ã€åŠ¹ç‡çš„ã«ç®¡ç†ã—ã¾ã—ã‚‡ã†ï¼
            </p>
          </div>
        </div>

        <div class="guide-section">
          <h3>ğŸ’¡ ãƒ’ãƒ³ãƒˆ</h3>
          <ul>
            <li>ã‚¹ãƒˆã‚¢åã¯ç”¨é€”ãŒåˆ†ã‹ã‚Šã‚„ã™ã„åå‰ã«ã™ã‚‹ã¨ç®¡ç†ã—ã‚„ã™ããªã‚Šã¾ã™ï¼ˆä¾‹ï¼štest-campaign-storeã€test-shipping-storeï¼‰</li>
            <li>ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ªã”ã¨ã«åˆ¥ã€…ã®ã‚¹ãƒˆã‚¢ã‚’ä½œæˆã™ã‚‹ã¨ã€ãƒ‡ãƒ¼ã‚¿ãŒã‚¯ãƒªãƒ¼ãƒ³ã«ä¿ã¦ã¾ã™</li>
            <li>é–‹ç™ºã‚¹ãƒˆã‚¢ã¯ç„¡æ–™ã§ã™ãŒã€ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã”ã¨ã«ä½œæˆæ•°ã®ä¸Šé™ãŒã‚ã‚Šã¾ã™</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- ã‚¹ãƒˆã‚¢ç™»éŒ²ã‚¿ãƒ– -->
    <div class="tab-content" id="register-tab">
      <div class="card">
        <h2>â• ã‚¹ãƒˆã‚¢ç™»éŒ²</h2>
        
        <div class="alert alert-success" id="success-message" style="display: none;"></div>

        <form id="store-form">
          <div class="form-group">
            <label for="store-name">ã‚¹ãƒˆã‚¢å *</label>
            <input type="text" id="store-name" name="storeName" required placeholder="ä¾‹: campaign-test-store">
            <div class="hint">ç®¡ç†ã—ã‚„ã™ã„åå‰ã‚’ä»˜ã‘ã¦ãã ã•ã„</div>
          </div>

          <div class="form-group">
            <label for="store-url">ã‚¹ãƒˆã‚¢URL *</label>
            <input type="url" id="store-url" name="storeUrl" required placeholder="https://your-store.myshopify.com">
            <div class="hint">https://ã‚’å«ã‚€ãƒ•ãƒ«URL</div>
          </div>

          <div class="form-group">
            <label for="access-token">ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ *</label>
            <input type="password" id="access-token" name="accessToken" required placeholder="shpat_xxxxxxxxxxxxx">
            <div class="hint">Admin APIã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ï¼ˆè¡¨ç¤ºã•ã‚Œãªã„ãŸã‚å®‰å…¨ã§ã™ï¼‰</div>
          </div>

          <div class="form-group">
            <label for="purpose">ç”¨é€” *</label>
            <select id="purpose" name="purpose" required>
              <option value="">-- é¸æŠã—ã¦ãã ã•ã„ --</option>
              <option value="campaign">ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ãƒ†ã‚¹ãƒˆ</option>
              <option value="shipping">é…é€ã‚¨ãƒªã‚¢ãƒ†ã‚¹ãƒˆ</option>
              <option value="service">ä¾¿ç¨®ãƒ†ã‚¹ãƒˆ</option>
              <option value="boundary">å¢ƒç•Œå€¤ãƒ†ã‚¹ãƒˆ</option>
              <option value="general">ä¸€èˆ¬ãƒ†ã‚¹ãƒˆ</option>
              <option value="other">ãã®ä»–</option>
            </select>
          </div>

          <div class="form-group">
            <label for="tags">ã‚¿ã‚°ï¼ˆã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šï¼‰</label>
            <input type="text" id="tags" name="tags" placeholder="ä¾‹: yamato, ã‚¯ãƒ¼ãƒãƒ³, æ±äº¬">
            <div class="hint">æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ç”¨ã®ã‚¿ã‚°ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰</div>
          </div>

          <div class="form-group">
            <label for="notes">ãƒ¡ãƒ¢</label>
            <textarea id="notes" name="notes" placeholder="ã“ã®ã‚¹ãƒˆã‚¢ã«é–¢ã™ã‚‹è£œè¶³æƒ…å ±ãŒã‚ã‚Œã°è¨˜å…¥ã—ã¦ãã ã•ã„"></textarea>
          </div>

          <button type="submit" class="button-primary">ã‚¹ãƒˆã‚¢ã‚’ç™»éŒ²</button>
        </form>
      </div>
    </div>

    <!-- ã‚¹ãƒˆã‚¢ç®¡ç†ã‚¿ãƒ– -->
    <div class="tab-content" id="manage-tab">
      <div class="card">
        <h2>ğŸ“‹ ã‚¹ãƒˆã‚¢ç®¡ç†</h2>

        <div class="stats">
          <div class="stat-card">
            <div class="stat-value" id="total-stores">0</div>
            <div class="stat-label">ç™»éŒ²æ¸ˆã¿ã‚¹ãƒˆã‚¢æ•°</div>
          </div>
          <div class="stat-card">
            <div class="stat-value" id="total-purposes">0</div>
            <div class="stat-label">ç”¨é€”ã‚«ãƒ†ã‚´ãƒªæ•°</div>
          </div>
        </div>

        <div class="search-bar">
          <input type="text" id="search-input" placeholder="ğŸ” ã‚¹ãƒˆã‚¢åã€URLã€ã‚¿ã‚°ã§æ¤œç´¢...">
        </div>

        <div class="button-group">
          <button class="button-secondary" id="export-btn">ğŸ“¤ ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ</button>
          <button class="button-secondary" id="import-btn">ğŸ“¥ ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆ</button>
          <input type="file" id="import-file" accept=".json" style="display: none;">
        </div>

        <div class="store-list" id="store-list">
          <div class="empty-state">
            <div class="empty-state-icon">ğŸª</div>
            <p>ã¾ã ã‚¹ãƒˆã‚¢ãŒç™»éŒ²ã•ã‚Œã¦ã„ã¾ã›ã‚“</p>
            <p>ã€Œã‚¹ãƒˆã‚¢ç™»éŒ²ã€ã‚¿ãƒ–ã‹ã‚‰æ–°ã—ã„ã‚¹ãƒˆã‚¢ã‚’è¿½åŠ ã—ã¦ãã ã•ã„</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // LocalStorageç®¡ç†
    const STORAGE_KEY = 'shopify-dev-stores';

    // ã‚¹ãƒˆã‚¢ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
    function getStores() {
      const data = localStorage.getItem(STORAGE_KEY);
      return data ? JSON.parse(data) : [];
    }

    // ã‚¹ãƒˆã‚¢ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜
    function saveStores(stores) {
      localStorage.setItem(STORAGE_KEY, JSON.stringify(stores));
      updateStats();
      renderStores();
    }

    // ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆ
    document.querySelectorAll('.tab').forEach(tab => {
      tab.addEventListener('click', () => {
        const targetTab = tab.dataset.tab;
        
        document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
        document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
        
        tab.classList.add('active');
        document.getElementById(`${targetTab}-tab`).classList.add('active');
      });
    });

    // ã‚¹ãƒˆã‚¢ç™»éŒ²ãƒ•ã‚©ãƒ¼ãƒ 
    document.getElementById('store-form').addEventListener('submit', (e) => {
      e.preventDefault();
      
      const formData = new FormData(e.target);
      const store = {
        id: Date.now().toString(),
        name: formData.get('storeName'),
        url: formData.get('storeUrl'),
        accessToken: formData.get('accessToken'),
        purpose: formData.get('purpose'),
        tags: formData.get('tags').split(',').map(tag => tag.trim()).filter(tag => tag),
        notes: formData.get('notes'),
        createdAt: new Date().toISOString()
      };

      const stores = getStores();
      stores.push(store);
      saveStores(stores);

      // æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
      const successMsg = document.getElementById('success-message');
      successMsg.textContent = `âœ… ã‚¹ãƒˆã‚¢ã€Œ${store.name}ã€ã‚’ç™»éŒ²ã—ã¾ã—ãŸï¼`;
      successMsg.style.display = 'block';
      setTimeout(() => {
        successMsg.style.display = 'none';
      }, 3000);

      // ãƒ•ã‚©ãƒ¼ãƒ ã‚’ãƒªã‚»ãƒƒãƒˆ
      e.target.reset();

      // ã‚¹ãƒˆã‚¢ç®¡ç†ã‚¿ãƒ–ã«åˆ‡ã‚Šæ›¿ãˆ
      document.querySelector('[data-tab="manage"]').click();
    });

    // ã‚¹ãƒˆã‚¢ä¸€è¦§ã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
    function renderStores(searchQuery = '') {
      const stores = getStores();
      const storeList = document.getElementById('store-list');
      
      const filteredStores = stores.filter(store => {
        if (!searchQuery) return true;
        const query = searchQuery.toLowerCase();
        return (
          store.name.toLowerCase().includes(query) ||
          store.url.toLowerCase().includes(query) ||
          store.tags.some(tag => tag.toLowerCase().includes(query))
        );
      });

      if (filteredStores.length === 0) {
        storeList.innerHTML = `
          <div class="empty-state">
            <div class="empty-state-icon">ğŸ”</div>
            <p>ã‚¹ãƒˆã‚¢ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“</p>
          </div>
        `;
        return;
      }

      storeList.innerHTML = filteredStores.map(store => `
        <div class="store-item" data-id="${store.id}">
          <div class="store-header">
            <div>
              <div class="store-name">${store.name}</div>
              <a href="${store.url}/admin" target="_blank" class="store-url">${store.url}</a>
            </div>
          </div>
          <div class="store-meta">
            <div class="meta-item">
              <span class="meta-label">ç”¨é€”:</span> ${getPurposeLabel(store.purpose)}
            </div>
            <div class="meta-item">
              <span class="meta-label">ç™»éŒ²æ—¥:</span> ${new Date(store.createdAt).toLocaleDateString('ja-JP')}
            </div>
          </div>
          ${store.tags.length > 0 ? `
            <div style="margin-top: 10px;">
              ${store.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
            </div>
          ` : ''}
          ${store.notes ? `
            <div style="margin-top: 10px; color: #666; font-size: 14px;">
              ${store.notes}
            </div>
          ` : ''}
          <div class="store-actions">
            <button class="button-small button-copy" onclick="copyAccessToken('${store.id}')">ğŸ”‘ ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ã‚³ãƒ”ãƒ¼</button>
            <button class="button-small button-copy" onclick="copyStoreUrl('${store.id}')">ğŸ”— URLã‚’ã‚³ãƒ”ãƒ¼</button>
            <button class="button-small button-edit" onclick="editStore('${store.id}')">âœï¸ ç·¨é›†</button>
            <button class="button-small button-delete" onclick="deleteStore('${store.id}')">ğŸ—‘ï¸ å‰Šé™¤</button>
          </div>
        </div>
      `).join('');
    }

    // ç”¨é€”ãƒ©ãƒ™ãƒ«ã‚’å–å¾—
    function getPurposeLabel(purpose) {
      const labels = {
        'campaign': 'ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ãƒ†ã‚¹ãƒˆ',
        'shipping': 'é…é€ã‚¨ãƒªã‚¢ãƒ†ã‚¹ãƒˆ',
        'service': 'ä¾¿ç¨®ãƒ†ã‚¹ãƒˆ',
        'boundary': 'å¢ƒç•Œå€¤ãƒ†ã‚¹ãƒˆ',
        'general': 'ä¸€èˆ¬ãƒ†ã‚¹ãƒˆ',
        'other': 'ãã®ä»–'
      };
      return labels[purpose] || purpose;
    }

    // çµ±è¨ˆæƒ…å ±ã‚’æ›´æ–°
    function updateStats() {
      const stores = getStores();
      document.getElementById('total-stores').textContent = stores.length;
      
      const purposes = new Set(stores.map(s => s.purpose));
      document.getElementById('total-purposes').textContent = purposes.size;
    }

    // ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ã‚³ãƒ”ãƒ¼
    function copyAccessToken(storeId) {
      const stores = getStores();
      const store = stores.find(s => s.id === storeId);
      if (store) {
        navigator.clipboard.writeText(store.accessToken).then(() => {
          alert('âœ… ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼');
        });
      }
    }

    // ã‚¹ãƒˆã‚¢URLã‚’ã‚³ãƒ”ãƒ¼
    function copyStoreUrl(storeId) {
      const stores = getStores();
      const store = stores.find(s => s.id === storeId);
      if (store) {
        navigator.clipboard.writeText(store.url).then(() => {
          alert('âœ… ã‚¹ãƒˆã‚¢URLã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼');
        });
      }
    }

    // ã‚¹ãƒˆã‚¢ã‚’å‰Šé™¤
    function deleteStore(storeId) {
      const stores = getStores();
      const store = stores.find(s => s.id === storeId);
      
      if (confirm(`æœ¬å½“ã«ã‚¹ãƒˆã‚¢ã€Œ${store.name}ã€ã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿã“ã®æ“ä½œã¯å–ã‚Šæ¶ˆã›ã¾ã›ã‚“ã€‚`)) {
        const filteredStores = stores.filter(s => s.id !== storeId);
        saveStores(filteredStores);
      }
    }

    // ã‚¹ãƒˆã‚¢ã‚’ç·¨é›†
    function editStore(storeId) {
      const stores = getStores();
      const store = stores.find(s => s.id === storeId);
      
      if (store) {
        // ãƒ•ã‚©ãƒ¼ãƒ ã«å€¤ã‚’è¨­å®š
        document.getElementById('store-name').value = store.name;
        document.getElementById('store-url').value = store.url;
        document.getElementById('access-token').value = store.accessToken;
        document.getElementById('purpose').value = store.purpose;
        document.getElementById('tags').value = store.tags.join(', ');
        document.getElementById('notes').value = store.notes || '';
        
        // ã‚¹ãƒˆã‚¢ã‚’å‰Šé™¤ï¼ˆæ›´æ–°ã®ãŸã‚ï¼‰
        const filteredStores = stores.filter(s => s.id !== storeId);
        saveStores(filteredStores);
        
        // ã‚¹ãƒˆã‚¢ç™»éŒ²ã‚¿ãƒ–ã«åˆ‡ã‚Šæ›¿ãˆ
        document.querySelector('[data-tab="register"]').click();
      }
    }

    // æ¤œç´¢
    document.getElementById('search-input').addEventListener('input', (e) => {
      renderStores(e.target.value);
    });

    // ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
    document.getElementById('export-btn').addEventListener('click', () => {
      const stores = getStores();
      const dataStr = JSON.stringify(stores, null, 2);
      const blob = new Blob([dataStr], { type: 'application/json' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = `shopify-stores-${new Date().toISOString().split('T')[0]}.json`;
      a.click();
      URL.revokeObjectURL(url);
    });

    // ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
    document.getElementById('import-btn').addEventListener('click', () => {
      document.getElementById('import-file').click();
    });

    document.getElementById('import-file').addEventListener('change', (e) => {
      const file = e.target.files[0];
      if (!file) return;
      
      const reader = new FileReader();
      reader.onload = (event) => {
        try {
          const importedStores = JSON.parse(event.target.result);
          if (Array.isArray(importedStores)) {
            if (confirm(`${importedStores.length}ä»¶ã®ã‚¹ãƒˆã‚¢ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¾ã™ã‹ï¼Ÿæ—¢å­˜ãƒ‡ãƒ¼ã‚¿ã¯ä¸Šæ›¸ãã•ã‚Œã¾ã™ã€‚`)) {
              saveStores(importedStores);
              alert('âœ… ã‚¤ãƒ³ãƒãƒ¼ãƒˆãŒå®Œäº†ã—ã¾ã—ãŸï¼');
            }
          }
        } catch (error) {
          alert('âŒ ã‚¤ãƒ³ãƒãƒ¼ãƒˆã«å¤±æ•—ã—ã¾ã—ãŸã€‚JSONãƒ•ã‚¡ã‚¤ãƒ«ã®å½¢å¼ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚');
        }
      };
      reader.readAsText(file);
    });

    // åˆæœŸåŒ–
    updateStats();
    renderStores();
  </script>
</body>
</html>
